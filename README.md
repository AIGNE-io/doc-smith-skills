# DocSmith

AI é©±åŠ¨çš„æ–‡æ¡£ç”Ÿæˆå·¥å…·ï¼ŒåŸºäº Aigne Framework æ„å»ºã€‚

## åŠŸèƒ½ç‰¹æ€§

DocSmith æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ–‡æ¡£ç”Ÿæˆç³»ç»Ÿï¼Œæä¾›ï¼š
- ğŸ“š ä»ä»£ç ä»“åº“ã€æ–‡æœ¬æ–‡ä»¶å’Œåª’ä½“èµ„æºç”Ÿæˆå…¨é¢çš„æ–‡æ¡£
- ğŸ—ï¸ æ„å»ºæœ‰ç»„ç»‡çš„æ–‡æ¡£ç»“æ„å’Œæ–‡æ¡£ç«™ç‚¹
- ğŸ“ æ™ºèƒ½åˆ†æå·¥ä½œåŒºå†…å®¹å¹¶ç”Ÿæˆç»“æ„åŒ–çš„æ–‡æ¡£
- ğŸ”„ å°†ä»£ç /é¡¹ç›®å†…å®¹è½¬æ¢ä¸ºå¯è¯»çš„æ–‡æ¡£
- ğŸŒ å¤šè¯­è¨€æ”¯æŒå’Œæ–‡æ¡£æœ¬åœ°åŒ–
- ğŸ–¼ï¸ è‡ªåŠ¨ç”Ÿæˆå’Œæ›´æ–°æ–‡æ¡£å›¾ç‰‡
- ğŸ“¤ ä¸€é”®å‘å¸ƒæ–‡æ¡£åˆ°å¤šä¸ªå¹³å°

æ”¯æŒç”Ÿæˆï¼š
- æŠ€æœ¯æ–‡æ¡£
- ç”¨æˆ·æŒ‡å—
- API å‚è€ƒ
- æ•™ç¨‹å’Œç¤ºä¾‹
- äº§å“æ–‡æ¡£

### ç”¨æˆ·æ„å›¾åˆ†æ

DocSmith ä¼šè‡ªåŠ¨åˆ†æå·¥ä½œåŒºå†…å®¹ï¼Œæ¨æ–­ï¼š
- **ç›®æ ‡ç”¨æˆ·** - æ–‡æ¡£çš„ä¸»è¦å—ä¼—ï¼ˆå¼€å‘è€…ã€è¿ç»´äººå‘˜ã€æœ€ç»ˆç”¨æˆ·ç­‰ï¼‰
- **ä½¿ç”¨åœºæ™¯** - ç”¨æˆ·æŸ¥é˜…æ–‡æ¡£çš„æƒ…å¢ƒï¼ˆé¦–æ¬¡æ¥è§¦ã€å¼€å‘é›†æˆã€é—®é¢˜æ’æŸ¥ç­‰ï¼‰
- **æ–‡æ¡£ä¾§é‡ç‚¹** - æ–‡æ¡£ç±»å‹ï¼ˆä½¿ç”¨æŒ‡å—ã€API å‚è€ƒã€å¿«é€Ÿä¸Šæ‰‹ã€æ¶æ„è¯´æ˜ç­‰ï¼‰

æ¨æ–­ç»“æœä¼šå±•ç¤ºç»™ç”¨æˆ·ç¡®è®¤ï¼Œæ”¯æŒå¤šè½®è°ƒæ•´ç›´åˆ°æ»¡æ„ã€‚

### ç»“æ„ç¡®è®¤æœºåˆ¶

åœ¨ç”Ÿæˆæ–‡æ¡£å‰ï¼ŒDocSmith ä¼šå±•ç¤ºè§„åˆ’çš„æ–‡æ¡£ç»“æ„ï¼š
- æ–‡æ¡£æ€»æ•°å’Œå±‚æ¬¡å…³ç³»
- æ¯ä¸ªæ–‡æ¡£çš„æ ‡é¢˜ã€æè¿°å’Œæ¥æºæ–‡ä»¶
- æ¸…æ™°çš„ emoji æ ‡è¯†ä¾¿äºå¿«é€Ÿæµè§ˆ

ç”¨æˆ·å¯ä»¥ï¼š
- åˆ é™¤/æ·»åŠ æ–‡æ¡£
- è°ƒæ•´å±‚æ¬¡ç»“æ„ï¼ˆåˆå¹¶ã€æ‹†åˆ†ã€è°ƒæ•´çˆ¶å­å…³ç³»ï¼‰
- ä¿®æ”¹å†…å®¹èŒƒå›´

åªæœ‰åœ¨ç”¨æˆ·ç¡®è®¤ç»“æ„åï¼Œæ‰ä¼šå¼€å§‹ç”Ÿæˆå®é™…å†…å®¹ã€‚

## é¡¹ç›®ç»“æ„

```
doc-smith-skill/
â”œâ”€â”€ aigne.yaml                # Aigne æ¡†æ¶é…ç½®
â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–å’Œå…ƒä¿¡æ¯
â”œâ”€â”€ CLAUDE.md                 # Claude Code é¡¹ç›®è¯´æ˜
â”œâ”€â”€ README.md                 # æœ¬æ–‡ä»¶
â”‚
â”œâ”€â”€ skills/                   # Claude Code Skills
â”‚   â””â”€â”€ doc-smith/            # DocSmith Skill å®šä¹‰
â”‚       â”œâ”€â”€ SKILL.md          # Skill ä¸»æ–‡æ¡£ï¼ˆä¸­æ–‡ï¼‰
â”‚       â””â”€â”€ references/       # å‚è€ƒæ–‡æ¡£
â”‚           â”œâ”€â”€ document-structure-schema.md   # æ–‡æ¡£ç»“æ„ Schema
â”‚           â”œâ”€â”€ structure-confirmation-guide.md # ç»“æ„ç¡®è®¤æŒ‡å—
â”‚           â”œâ”€â”€ structure-planning-guide.md    # ç»“æ„è§„åˆ’æŒ‡å—
â”‚           â”œâ”€â”€ user-intent-guide.md           # ç”¨æˆ·æ„å›¾æŒ‡å—
â”‚           â””â”€â”€ ... (æ›´å¤šå‚è€ƒæ–‡æ¡£)
â”‚
â”œâ”€â”€ skills-entry/             # Aigne æ¡†æ¶å…¥å£é…ç½®
â”‚   â””â”€â”€ doc-smith/
â”‚       â”œâ”€â”€ index.yaml        # ä¸»å…¥å£é…ç½®
â”‚       â””â”€â”€ prompt.md         # æç¤ºè¯æ¨¡æ¿
â”‚
â”œâ”€â”€ agents/                   # ä¸“ç”¨ Agents
â”‚   â”œâ”€â”€ publish/              # æ–‡æ¡£å‘å¸ƒ agent
â”‚   â”œâ”€â”€ localize/             # æ–‡æ¡£æœ¬åœ°åŒ– agent
â”‚   â”œâ”€â”€ generate-images/      # å›¾ç‰‡ç”Ÿæˆ agent
â”‚   â”œâ”€â”€ update-image/         # å›¾ç‰‡æ›´æ–° agent
â”‚   â”œâ”€â”€ content-checker/      # å†…å®¹æ£€æŸ¥ agent
â”‚   â”œâ”€â”€ structure-checker/    # ç»“æ„æ£€æŸ¥ agent
â”‚   â””â”€â”€ save-document/        # æ–‡æ¡£ä¿å­˜ agent
â”‚
â”œâ”€â”€ utils/                    # å·¥å…·å‡½æ•°åº“
â”‚   â”œâ”€â”€ config.mjs            # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ docs.mjs              # æ–‡æ¡£å¤„ç†
â”‚   â”œâ”€â”€ git.mjs               # Git æ“ä½œ
â”‚   â”œâ”€â”€ image-utils.mjs       # å›¾ç‰‡å·¥å…·
â”‚   â””â”€â”€ ... (æ›´å¤šå·¥å…·)
â”‚
â”œâ”€â”€ feature-design/           # åŠŸèƒ½è®¾è®¡æ–‡æ¡£
â”‚   â”œâ”€â”€ workspace.md          # Workspace è®¾è®¡
â”‚   â”œâ”€â”€ image-generation.md   # å›¾ç‰‡ç”Ÿæˆè®¾è®¡
â”‚   â”œâ”€â”€ localize-agent.md     # æœ¬åœ°åŒ–è®¾è®¡
â”‚   â””â”€â”€ ... (æ›´å¤šè®¾è®¡æ–‡æ¡£)
â”‚
â””â”€â”€ scripts/                  # å®‰è£…/å¸è½½è„šæœ¬
    â”œâ”€â”€ install.sh            # å®‰è£…è„šæœ¬
    â”œâ”€â”€ uninstall.sh          # å¸è½½è„šæœ¬
    â””â”€â”€ README.md             # è„šæœ¬ä½¿ç”¨è¯´æ˜
```

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
pnpm install
```

### 2. ä½¿ç”¨æ–¹å¼

DocSmith æä¾›ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š

#### æ–¹å¼ Aï¼šä½œä¸º Claude Code Skill ä½¿ç”¨

å®‰è£… skill åˆ°å…¨å±€ç›®å½•ï¼š

```bash
./scripts/install.sh -y
```

ç„¶ååœ¨ä»»ä½•åœ°æ–¹çš„ Claude Code ä¸­ä½¿ç”¨ï¼š

```bash
/doc-smith
```

#### æ–¹å¼ Bï¼šä½œä¸º Aigne CLI ä½¿ç”¨

åœ¨é¡¹ç›®ç›®å½•ä¸­ä½¿ç”¨ Aigne CLIï¼š

```bash
aigne doc create --interactive
```

è¿™å°†å¯åŠ¨äº¤äº’å¼æ–‡æ¡£ç”Ÿæˆæµç¨‹ï¼Œå¼•å¯¼ä½ å®Œæˆ workspace åˆå§‹åŒ–å’Œæ–‡æ¡£ç”Ÿæˆçš„å…¨è¿‡ç¨‹ã€‚

### 3. å¼€å§‹ç”Ÿæˆæ–‡æ¡£

#### Workspace æ¨¡å¼ (æ¨è)

DocSmith ç°åœ¨ä½¿ç”¨ç‹¬ç«‹ workspace ç›®å½•ï¼Œä¸ä¼šæ±¡æŸ“æºä»“åº“ã€‚

**åˆ›å»ºå¹¶ä½¿ç”¨ workspaceï¼š**

```bash
# 1. åˆ›å»ºç©ºç›®å½•ä½œä¸º workspace
mkdir my-docs-workspace
cd my-docs-workspace

# 2. æ‰“å¼€ Claude Code å¹¶æ‰§è¡Œ doc-smith
# è¾“å…¥: ä½¿ç”¨ doc-smith ç”Ÿæˆæ–‡æ¡£
```

**åˆå§‹åŒ–æµç¨‹ï¼š**
DocSmith ä¼šå¼•å¯¼ä½ å®Œæˆåˆå§‹åŒ–ï¼š
1. è¯¢é—®è¾“å‡ºè¯­è¨€ï¼ˆå¦‚ï¼šzhã€enï¼‰
2. è¯¢é—®æºä»“åº“ Git URLï¼ˆå¯é€‰ï¼Œå¦‚æœæºä»£ç åœ¨æœ¬åœ°å¯ä¸æä¾›ï¼‰
3. è‡ªåŠ¨åˆ›å»ºç›®å½•ç»“æ„
4. è‡ªåŠ¨æ·»åŠ æºä»“åº“ä¸º git submoduleï¼ˆå¦‚æœæä¾›äº† URLï¼‰
5. ç”Ÿæˆ config.yaml é…ç½®æ–‡ä»¶
6. åˆå§‹åŒ– git ä»“åº“å¹¶æäº¤

**åç»­æ“ä½œï¼š**
DocSmith ä¼šï¼š
1. åˆ†ææºä»“åº“å†…å®¹
2. æ¨æ–­ç”¨æˆ·æ„å›¾
3. è§„åˆ’æ–‡æ¡£ç»“æ„
4. ç”Ÿæˆç»“æ„åŒ–çš„ Markdown æ–‡æ¡£
5. è¯¢é—®æ˜¯å¦æäº¤åˆ° Git

### 3. Workspace ç›®å½•ç»“æ„

```
my-docs-workspace/              # ç‹¬ç«‹ workspace ç›®å½•
â”œâ”€â”€ config.yaml                 # workspace é…ç½®æ–‡ä»¶
â”œâ”€â”€ sources/                    # æºä»“åº“ (git submodule)
â”‚   â””â”€â”€ my-project/
â”œâ”€â”€ intent/
â”‚   â””â”€â”€ user-intent.md          # ç”¨æˆ·æ„å›¾æè¿°
â”œâ”€â”€ planning/
â”‚   â””â”€â”€ document-structure.yaml # æ–‡æ¡£ç»“æ„è®¡åˆ’
â”œâ”€â”€ docs/                       # ç”Ÿæˆçš„æ–‡æ¡£
â”‚   â”œâ”€â”€ overview.md
â”‚   â”œâ”€â”€ getting-started.md
â”‚   â””â”€â”€ api/
â”‚       â””â”€â”€ authentication.md
â””â”€â”€ cache/                      # ä¸´æ—¶æ•°æ® (ä¸çº³å…¥ git)
```

### 4. ç‰ˆæœ¬ç®¡ç†

Workspace æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ Git ä»“åº“ï¼Œæ”¯æŒå®Œæ•´çš„ç‰ˆæœ¬ç®¡ç†ï¼š

```bash
# æŸ¥çœ‹å†å²
git log

# æŸ¥çœ‹å˜æ›´
git diff

# å›æ»šç‰ˆæœ¬
git revert <commit-hash>

# æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼ˆå¯é€‰ï¼‰
git remote add origin <your-repo-url>
git push -u origin main
```

## æ ¸å¿ƒåŠŸèƒ½

### æ–‡æ¡£ç”Ÿæˆ
- æ™ºèƒ½åˆ†ææºä»£ç å’Œé¡¹ç›®ç»“æ„
- è‡ªåŠ¨æ¨æ–­ç”¨æˆ·æ„å›¾å’Œç›®æ ‡å—ä¼—
- ç”Ÿæˆç»“æ„åŒ–çš„ Markdown æ–‡æ¡£
- æ”¯æŒæ–‡æ¡£å±‚æ¬¡ç»“æ„è§„åˆ’å’Œç¡®è®¤

### å›¾ç‰‡ç®¡ç†
- è‡ªåŠ¨ç”Ÿæˆæ–‡æ¡£æ‰€éœ€çš„å›¾ç‰‡
- æ”¯æŒå›¾ç‰‡å ä½ç¬¦ç³»ç»Ÿ
- æ‰¹é‡æ›´æ–°å’Œç¼–è¾‘å›¾ç‰‡
- å¤šç§å›¾ç‰‡ç”Ÿæˆæ¨¡å‹æ”¯æŒ

### å¤šè¯­è¨€æ”¯æŒ
- æ–‡æ¡£æœ¬åœ°åŒ–å’Œç¿»è¯‘
- å¤šè¯­è¨€æ–‡æ¡£ç»“æ„ç®¡ç†
- è‡ªåŠ¨åŒæ­¥ä¸åŒè¯­è¨€ç‰ˆæœ¬

### å‘å¸ƒå’Œéƒ¨ç½²
- ä¸€é”®å‘å¸ƒåˆ°å¤šä¸ªå¹³å°
- æ”¯æŒè‡ªå®šä¹‰å‘å¸ƒé…ç½®
- æ–‡æ¡£ç«™ç‚¹æ„å»ºå’Œéƒ¨ç½²

## æ–‡æ¡£è¯´æ˜

### Skill æ–‡æ¡£
- **skills/doc-smith/SKILL.md** - Skill å®Œæ•´ä½¿ç”¨æŒ‡å—ï¼ŒåŒ…å«å·¥ä½œæµç¨‹ã€æœ€ä½³å®è·µç­‰
- **skills/doc-smith/references/** - å‚è€ƒæ–‡æ¡£ç›®å½•
  - **document-structure-schema.md** - æ–‡æ¡£ç»“æ„ YAML çš„å®Œæ•´ Schema è¯´æ˜
  - **structure-planning-guide.md** - æ–‡æ¡£ç»“æ„è§„åˆ’æŒ‡å—
  - **structure-confirmation-guide.md** - ç»“æ„ç¡®è®¤æµç¨‹æŒ‡å—
  - **user-intent-guide.md** - ç”¨æˆ·æ„å›¾ç†è§£æŒ‡å—
  - æ›´å¤šå‚è€ƒæ–‡æ¡£...

### è®¾è®¡æ–‡æ¡£
- **feature-design/** - åŠŸèƒ½è®¾è®¡å’Œæ¶æ„æ–‡æ¡£
  - **workspace.md** - Workspace è®¾è®¡æ–¹æ¡ˆ
  - **image-generation.md** - å›¾ç‰‡ç”ŸæˆåŠŸèƒ½è®¾è®¡
  - **localize-agent.md** - æœ¬åœ°åŒ–åŠŸèƒ½è®¾è®¡
  - æ›´å¤šè®¾è®¡æ–‡æ¡£...

æ‰€æœ‰æ–‡æ¡£å‡ä½¿ç”¨ä¸­æ–‡ç¼–å†™ï¼Œæ–¹ä¾¿ç†è§£å’Œç¼–è¾‘ã€‚

## å¸è½½

å¦‚éœ€ç§»é™¤ skillï¼š

```bash
./scripts/uninstall.sh
```

## æ‰‹åŠ¨å®‰è£… Skill

å¦‚æœå®‰è£…è„šæœ¬æ— æ³•ä½¿ç”¨ï¼Œå¯ä»¥æ‰‹åŠ¨å®‰è£…ï¼š

```bash
mkdir -p ~/.claude/skills
cp -r skills/doc-smith ~/.claude/skills/
```

## å¼€å‘å’Œè‡ªå®šä¹‰

### ä¿®æ”¹ Skill

å¦‚æœä½ æƒ³ä¿®æ”¹æˆ–æ‰©å±• doc-smith skillï¼š

1. ç¼–è¾‘ `skills/doc-smith/SKILL.md` ä¸­çš„ Skill ä¸»æ–‡æ¡£
2. ä¿®æ”¹ `skills/doc-smith/references/` ä¸­çš„å‚è€ƒæ–‡æ¡£
3. è¿è¡Œ `./scripts/install.sh -y` é‡æ–°å®‰è£…

### å¼€å‘ Agents

æ·»åŠ æˆ–ä¿®æ”¹ agentsï¼š

1. åœ¨ `agents/` ç›®å½•ä¸‹åˆ›å»ºæˆ–ä¿®æ”¹ agent
2. åœ¨ `aigne.yaml` ä¸­æ³¨å†Œæ–°çš„ agent
3. ç¼–å†™ agent çš„æç¤ºè¯å’Œé…ç½®æ–‡ä»¶

### ä¿®æ”¹å·¥å…·å‡½æ•°

æ‰©å±•æˆ–ä¼˜åŒ–å·¥å…·å‡½æ•°ï¼š

1. åœ¨ `utils/` ç›®å½•ä¸‹æ·»åŠ æˆ–ä¿®æ”¹å·¥å…·å‡½æ•°
2. ç¡®ä¿ä½¿ç”¨ ES æ¨¡å—è¯­æ³•ï¼ˆ`.mjs` æ–‡ä»¶ï¼‰
3. åœ¨éœ€è¦çš„åœ°æ–¹å¯¼å…¥ä½¿ç”¨

### ä»£ç è´¨é‡

é¡¹ç›®ä½¿ç”¨ Biome è¿›è¡Œä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–ï¼š

```bash
# æ£€æŸ¥ä»£ç 
pnpm run lint

# è‡ªåŠ¨ä¿®å¤
pnpm run lint:fix
```

## æŠ€æœ¯æ ˆ

- **Aigne Framework** - AI agent ç¼–æ’æ¡†æ¶
- **Claude Code** - Anthropic çš„ AI ç¼–ç¨‹åŠ©æ‰‹
- **Node.js** - è¿è¡Œæ—¶ç¯å¢ƒï¼ˆES æ¨¡å—ï¼‰
- **pnpm** - åŒ…ç®¡ç†å™¨
- **Biome** - ä»£ç æ£€æŸ¥å’Œæ ¼å¼åŒ–
- **YAML** - é…ç½®å’Œæ•°æ®æ ¼å¼

## æ³¨æ„äº‹é¡¹

### ä½œä¸º Claude Code Skill ä½¿ç”¨
- ç¡®ä¿ Claude Code å·²æ­£ç¡®å®‰è£…
- Workspace éœ€è¦åœ¨ç©ºç›®å½•ä¸­åˆå§‹åŒ–
- ç”Ÿæˆçš„æ–‡æ¡£åœ¨ç‹¬ç«‹çš„ workspace ç›®å½•ä¸­ï¼Œä¸ä¼šæ±¡æŸ“æºä»“åº“

### ä½œä¸º Aigne CLI ä½¿ç”¨
- ç¡®ä¿å·²å®‰è£… Node.js (v18+) å’Œ pnpm
- ç¡®ä¿ Git å·²å®‰è£…ï¼ˆç”¨äº submodule å’Œç‰ˆæœ¬ç®¡ç†ï¼‰
- éœ€è¦é…ç½® Anthropic API key æˆ–å…¶ä»– LLM provider
- å›¾ç‰‡ç”ŸæˆåŠŸèƒ½éœ€è¦é…ç½®ç›¸åº”çš„ API key

## è¿ç§»è¯´æ˜

å¦‚æœä½ ä¹‹å‰ä½¿ç”¨è¿‡æ—§ç‰ˆæœ¬ï¼ˆ`.aigne/doc-smith/` ç›®å½•ç»“æ„ï¼‰ï¼Œå»ºè®®ï¼š
1. åˆ›å»ºæ–°çš„ workspace ç›®å½•
2. é‡æ–°ç”Ÿæˆæ–‡æ¡£
3. æ—§ç‰ˆæœ¬æ•°æ®å¯ä»¥æ‰‹åŠ¨è¿ç§»åˆ°æ–°çš„ workspace ç›®å½•ç»“æ„ä¸­

## ç‰ˆæœ¬ä¿¡æ¯

å½“å‰ç‰ˆæœ¬ï¼š`0.9.8-alpha.13`

è¿™æ˜¯ä¸€ä¸ª alpha ç‰ˆæœ¬ï¼ŒåŠŸèƒ½å’Œ API å¯èƒ½ä¼šæœ‰å˜åŒ–ã€‚

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·åœ¨é¡¹ç›®ä¸­æå‡º issueã€‚

## ä½œè€…

**Arcblock** - [blocklet@arcblock.io](mailto:blocklet@arcblock.io)

GitHub: [@blocklet](https://github.com/blocklet)

## è®¸å¯

Elastic-2.0 License

## ç›¸å…³é“¾æ¥

- [Aigne Framework](https://www.npmjs.com/package/@aigne/cli)
- [Claude Code](https://claude.com/claude-code)
- [Arcblock](https://www.arcblock.io/)
