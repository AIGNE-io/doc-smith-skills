type: "@aigne/agent-library/agent-skill-manager"
name: doc-smith-skill
task_render_mode: collapse
instructions:
  url: ./prompt.md

model:
  cache_config:
    autoBreakpoints:
      lastMessage: true

history_config:
  enabled: true

input_key: message
skills:
  - type: "@aigne/agent-library/ask-user-question"
  - ../../agents/publish/index.yaml
  - ../../agents/localize/index.yaml
  - ../../agents/generate-images/index.yaml
  - ../../agents/bash-executor/index.mjs
  - ../../agents/structure-checker/index.mjs
  - ../../agents/content-checker/index.mjs
  # - ../../agents/save-document/index.mjs
  - ../../agents/update-image/index.yaml
  - ../../skills-entry/doc-smith-docs-detail/batch.yaml
afs:
  modules:
    - module: history
      options:
        storage:
          url: file:./.aigne/history.db

    - module: local-fs
      options:
        name: workspace
        localPath: ${CWD}
        description: |
          Current working directory for the agent
          - Read-write access to project files
          - Use absolute path for file operations
    - module: local-fs
      options:
        agentSkills: true
        name: doc-smith
        localPath: ../../skills/doc-smith
        description: |
          Agent skill for document operations
          - Read-only access to skill definition files
          - Do NOT modify files in this directory
